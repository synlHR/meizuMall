<!DOCTYPE html>
<!-- saved from url=(0044)https://ordercenter.meizu.com/order/add.html
-->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>
        确认订单-魅族商城
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="/js/classif.89d72ddd.js" rel="prefetch" />
    <link href="/js/app.06589e7e.js" rel="preload" as="script" />
    <link href="/js/chunk-vendors.89a26db2.js" rel="preload" as="script" />
    <script charset="utf-8" src="/js/classif.89d72ddd.js">
    </script>
    <link href="https://store.res.meizu.com/layout/img/favicon-90c2e618ff.ico"
          rel="shortcut icon" type="image/x-icon" />
    <link href="https://store.res.meizu.com/layout/img/favicon-90c2e618ff.ico"
          rel="icon" type="image/x-icon" />
    <meta name="description" content="魅族商城是魅族面向全国服务的官方电子商务平台,提供魅族PRO系列、魅族MX系列和魅蓝系列等产品的预约和购买.官方正品,全国联保."
    />
    <meta name="keywords" content="魅族官方在线商店、魅族在线商城、魅族官网在线商店、魅族商城" />
    <link rel="stylesheet" href="/webResources/orderResources/layout-80bd8016a9.css"
    />
    <!--[if lt IE 9]>
    <script src="//store.res.meizu.com/layout/js/html5shiv-3ed50bb69a.js"
            type="text/javascript">
    </script>
    <script src="//store.res.meizu.com/layout/js/es5-shim-50bbaee56e.js" type="text/javascript">
    </script>
    <![endif]-->
    <link href="/webResources/orderResources/add-1b1836f2ff.css" rel="stylesheet"
          charset="UTF-8" />

    <style>
        .erweima{
            width: 200px;
            height: 200px;
        }
    </style>
</head>
<body>
<!-- common header -->
<!--<script src="/webResources/orderResources/hm.js"></script>-->
<!--<script src="/webResources/orderResources/flow.js"></script>-->
<!--<script src="/webResources/orderResources/analytics-min.js"></script>-->
<!--head信息-->
<div class="layout-header clearfix layout-header-order login" id="layoutHeader">
    <div class="mzcontainer">
        <div class="layout-header-logo">
            <a target="_blank" href="http://www.meizu.com/" class="layout-header-logo-link"
               alt="魅族科技" data-mdesc="购物车页头logo" data-mtype="store_cart_yt_logo" data-bh="click_store_cart_yt_logo">
                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAAuCAYAAAABQwQEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Q0FCMzYyNjc5MTE4MTFFQTkyOTE5MDU4QTAwMjNCOTEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Q0FCMzYyNjg5MTE4MTFFQTkyOTE5MDU4QTAwMjNCOTEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxRDVBNDg5NDkxMEIxMUVBOTI5MTkwNThBMDAyM0I5MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDQUIzNjI2NjkxMTgxMUVBOTI5MTkwNThBMDAyM0I5MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pg9i2hkAAAX9SURBVHja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"
                     style="max-width:125px;margin-top:  28px;" />
            </a>
        </div>
        <ul class="layout-header-bread">
            <li class="layout-header-bread-block ">
                购物车
            </li>
            <li class="layout-header-bread-block active">
                确认订单
            </li>
            <li class="layout-header-bread-block ">
                在线支付
            </li>
            <li class="layout-header-bread-block ">
                完成
            </li>
        </ul>
        <ul class="layout-header-right">
            <li class="layout-header-right-item">
                <a class="layout-header-right-link" href="https://ordercenter.meizu.com/list/index.html"
                   target="_blank" data-mdesc="购物车页头-我的订单" data-mtype="store_cart_yt_order"
                   data-bh="click_store_cart_yt_order">
                    我的订单
                </a>
            </li>
            <li class="layout-header-right-item signout">
                <a class="layout-header-right-link" data-mdesc="购物车页头-登录" data-mtype="store_cart_yt_login"
                   data-bh="click_store_cart_yt_login" href="javascript:window.location.href='https://login.flyme.cn/vCodeLogin?sid=unionlogin&amp;service=store&amp;autodirct=true&amp;useruri=http://store.meizu.com/member/login.htm?useruri='+ encodeURIComponent(encodeURIComponent(window.location.href));">
                    登录
                </a>
            </li>
            <li class="layout-header-right-item signout">
                <a class="layout-header-right-link" data-mdesc="购物车页头-注册" data-mtype="store_cart_yt_register"
                   data-bh="click_store_cart_yt_register" target="_blank" href="https://member.meizu.com/register">
                    注册
                </a>
            </li>
            <li class="layout-member signin">
                <a class="layout-member-link" target="_blank" href="http://me.meizu.com/member/index">
							<span class="layout-member-username" id="topbarUser">
								用户668365328
							</span>
                    的商城
                    <i class="layout-member-triangle">
                    </i>
                </a>
                <ul class="layout-member-downmenu">
                    <li class="layout-member-downmenu-item">
                        <a class="layout-member-downmenu-link" data-mdesc="我的商城下拉框1" data-mtype="store_index_yt_my_1"
                           data-bh="click_store_index_yt_my_1" target="_blank" href="https://me.meizu.com/member/address/index">
                            地址管理
                        </a>
                    </li>
                    <li class="layout-member-downmenu-item">
                        <a class="layout-member-downmenu-link" data-mdesc="页头-收藏" data-mtype="store_index_yt_collect"
                           data-bh="click_store_index_yt_collect" target="_blank" href="https://me.meizu.com/member/favorite/index">
                            我的收藏
                        </a>
                    </li>
                    <li class="layout-member-downmenu-item">
                        <a class="layout-member-downmenu-link" data-mdesc="我的商城下拉框2" data-mtype="store_index_yt_my_2"
                           data-bh="click_store_index_yt_my_2" target="_blank" href="https://mcycle.meizu.com/page/balance_log">
                            我的回购金
                        </a>
                    </li>
                    <li class="layout-member-downmenu-item">
                        <a class="layout-member-downmenu-link" data-mdesc="我的商城下拉框3" data-mtype="store_index_yt_my_3"
                           data-bh="click_store_index_yt_my_3" target="_blank" href="https://me.meizu.com/member/advice/index">
                            问题反馈
                        </a>
                    </li>
                    <li class="layout-member-downmenu-item">
                        <a class="layout-member-downmenu-link exit" data-mdesc="我的商城下拉框4" data-mtype="store_index_yt_my_4"
                           data-bh="click_store_index_yt_my_4" href="javascript:window.location.href='http://store.meizu.com/member/logout.htm?useruri='+ encodeURIComponent(encodeURIComponent(window.location.href));">
                            退出
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
</div>
<div id="app">
    <!--主要信息-->
    <div class="order">
        <div class="mzcontainer">
            <div class="order-address" id="addressModule">
                <div class="order-address-title">
                    收货人信息
                    <div class="order-address-title-tips" id="orderAddressHasOldTips">
                        <i class="order-address-tips-icon">
                        </i>
                        因配送地址库升级，部分地址需升级后方可使用！
                    </div>
                </div>
                <ul class="order-address-list clearfix" id="addressList" style="height: 174px;">
                    <!-- 显示当前地址-->
                    <li v-for="(address,index) in addreses" :id="address.aid" @click="checkThisAddress(address)"
                        class="order-address-checkbox" data-mdesc="收货人信息" data-mtype="click_store_se_adr"
                        data-bh="click_store_se_adr">
                        <!-- 修改当前地址-->
                        <div :id="curAddDiv[index]" class="mz-mask hide">
                            <div class="mz-dialog dialog address-adder" style="margin-left: -380px; margin-top: -182px;">
                                <div class="mz-dialog-header">
                                    <div class="mz-dialog-title">
                                        修改地址
                                    </div>
                                    <div @click="closeAddressDiv(address)" class="mz-dialog-close">
                                    </div>
                                </div>
                                <div class="mz-dialog-main">
                                    <div class="mz-dialog-warp">
                                        <div class="mz-dialog-content">
                                            <div class="address-adder-content">
                                                <div class="address-adder-row clearfix">
                                                    <div class="address-adder-title">
                                                        收件人姓名
                                                        <span class="address-adder-must">
																	*
																</span>
                                                    </div>
                                                    <div class="mz-input-warp">
                                                        <input type="text" class="mz-input address-adder-name" :value="address.name"
                                                               value="" maxlength="15" id="editName" />
                                                    </div>
                                                    <div class="address-adder-title">
                                                        收货人手机号
                                                        <span class="address-adder-must">
																	*
																</span>
                                                    </div>
                                                    <div class="mz-input-warp">
                                                        <input type="text" class="mz-input address-adder-phone" :value="address.tel"
                                                               value="" maxlength="11" id="editTel" />
                                                    </div>
                                                </div>
                                                <div class="address-adder-row clearfix">
                                                    <div class="address-adder-title">
                                                        收货人地址
                                                        <span class="address-adder-must">
																	*
																</span>
                                                    </div>
                                                    <div class="mz-input-warp address-adder-select mz-address">
                                                        <!--省份-->
<!--                                                        <div  class="mz-selectmenu">-->
<!--                                                            <input type="text" readonly="readonly" tabindex="-1" class="mz-downmenu-input"-->
<!--                                                                   :value="address.province" />-->
<!--                                                            <input type="hidden" tabindex="-1" value="11241" name="" />-->
<!--                                                        </div>-->
                                                        <div class="mz-input-warp">
                                                            <input type="text" class="mz-input address-adder-name" :value="address.province"
                                                                   value="" maxlength="15" id="editProvince" />
                                                        </div>
                                                        <!--城市-->
<!--                                                        <div class="mz-selectmenu">-->
<!--                                                            <input type="text" readonly="readonly" tabindex="-1" class="mz-downmenu-input"-->
<!--                                                                   :value="address.city" />-->
<!--                                                            <input type="hidden" tabindex="-1" value="12401" name="" />-->
<!--                                                        </div>-->
                                                        <div class="mz-input-warp">
                                                            <input type="text" class="mz-input address-adder-name" :value="address.city"
                                                                   value="" maxlength="15" id="editCity"/>
                                                        </div>
                                                        <!--区/县-->
<!--                                                        <div class="mz-selectmenu">-->
<!--                                                            <input type="text" readonly="readonly" tabindex="-1" class="mz-downmenu-input"-->
<!--                                                                   :value="address.country" />-->
<!--                                                            <input type="hidden" tabindex="-1" value="12441" name="" />-->
<!--                                                        </div>-->
                                                        <div class="mz-input-warp">
                                                            <input type="text" class="mz-input address-adder-name" :value="address.country"
                                                                   value="" maxlength="15" id="editCountry"/>
                                                        </div>
                                                        <div class="mz-address-other mz-input-warp" name="" style="display: none;">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="address-adder-row clearfix address-adder-other" style="display: none;">
                                                    <div class="address-adder-title">
                                                        其他
                                                    </div>
                                                </div>
                                                <div class="address-adder-row clearfix">
                                                    <div class="address-adder-title">
                                                        详细地址
                                                        <span class="address-adder-must">
																	*
																</span>
                                                    </div>
                                                    <div class="mz-input-warp">
                                                        <input type="text" class="mz-input address-adder-detail" :value="address.addresDetail"
                                                               maxlength="50" minlength="4" id="editAddDetail" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="mz-dialog-bottom">
                                    <div @click class="mz-btn success">
                                        确认
                                    </div>
                                    <div @click="closeAddressDiv(address)" class="mz-btn cancel">
                                        取消
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 当前地址信息-->
                        <div class="order-address-checkbox-top">
                            <div class="order-address-checkbox-name" title="">
                                {{address.name}}
                            </div>
                            <div class="order-address-checkbox-phone">
                                {{address.tel}}
                            </div>
                        </div>
                        <div class="order-address-checkbox-content">
                            {{address.province}}-{{address.city}}-{{address.country}}-{{address.addresDetail}}
                        </div>
                        <div class="order-address-checkbox-checked">
                            <div class="order-address-checkbox-tick">
                            </div>
                        </div>
                        <div class="order-address-checkbox-ctrl">
                            <div @click="deleteCurrAddress(address)" class="order-address-checkbox-delete">
                            </div>
                            <div @click="editCurrAddress(address)" class="order-address-checkbox-edit">
                            </div>
                        </div>
                    </li>
                    <!-- 添加新地址按钮-->
                    <li @click="addNewAddress" class="order-address-checkbox add">
                        <div class="order-add-icon">
                        </div>
                        <div class="order-address-add-text">
                            添加新地址
                        </div>
                    </li>
                </ul>
            </div>
            <!-- 确认订单信息-->
            <div class="mzcontainer order-product">
                <div class="order-product-title">
                    确认订单信息
                </div>
                <div class="order-product-list" id="orderProductList">
                    <table cellpadding="0" cellspacing="0" class="order-product-table">
                        <thead>
                        <tr>
                            <th class="order-product-table-name">
                                <div class="order-product-supplier">
                                    供应商：
                                    <span class="order-product-supplier-name">
													魅族
												</span>
                                    <!--<div class="order-product-supplier-tips">由“魅族”负责发货，并提供售后服务</div>-->
                                </div>
                            </th>
                            <th class="order-product-table-price">
                                单价
                            </th>
                            <th class="order-product-table-num">
                                数量
                            </th>
                            <th class="order-product-table-total">
                                小计
                            </th>
                            <th class="order-product-table-express table-express-header">
                                配送方式
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr v-for="(order,index) in orderDetailList">
                            <td class="order-product-table-name">
                                <a target="_blank" class="order-product-link" href="https://detail.meizu.com/item/meizu17pro.html"
                                   data-mdesc="确认订单信息" data-mtype="click_store_se_ord" data-bh="click_store_se_ord">
                                    <img class="order-product-image" data-original="//openfile.meizu.com/group1/M00/07/C5/Cgbj0F6zwUqAdPsoAAtCAjTT7ek670.png@120x120.jpg"
                                         :src="order.phone.image"
                                         style="display: inline;" />
                                </a>
                                <div class="order-product-name">
                                    <a target="_blank" class="order-product-link" href="https://detail.meizu.com/item/meizu17pro.html"
                                       data-mdesc="确认订单信息" data-mtype="click_store_se_ord" data-bh="click_store_se_ord">
                                        <p class="order-product-name-item item-name">
                                            {{order.phone.phonename}}
                                        </p>
                                        <p class="order-product-name-item cspu-desc">
                                            {{order.phone.title}}
                                        </p>
                                    </a>
                                </div>
                            </td>
                            <td class="order-product-table-price">
                                <p>
												<span class="order-product-price">
													{{order.phone.baseprice}}
												</span>
                                </p>
                            </td>
                            <td class="order-product-table-num">
                                {{order.num}}
                            </td>
                            <td class="order-product-table-total">
                                <p class="order-product-price red">
                                    {{order.num*order.phone.baseprice}}
                                </p>
                            </td>
                            <td class="order-product-table-express" rowspan="">
                                <p>
                                    快递配送：运费
                                    <span class="order-product-price red express-fee has-express-fee">
													0.00
												</span>
                                </p>
                            </td>
                        </tr>
                        <!-- 套餐 -->
                        <!-- 赠品 -->
                        <!-- 加价购商品 -->
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- 支付-->
            <div class="order-total clearfix" id="orderTotal">

                <div class="order-total-content">
                    <div class="order-total-row">
                        总金额：
                        <div class="order-total-price" id="totalOrderPrice">
                            {{totalPrice}}
                        </div>
                    </div>
                    <div class="order-total-row order-total-discount" id="totalCouponRow">
                        优惠券：
                        <div class="order-total-price sub">
                            0.00
                        </div>
                    </div>
                    <div class="order-total-row order-total-discount" id="totalRedRow">
                        红包：
                        <div class="order-total-price sub">
                            0.00
                        </div>
                    </div>
                    <div class="order-total-row order-total-discount" id="totalRepoRow" style="display: none;">
                        回购金：
                        <div class="order-total-price sub">
                            0.00
                        </div>
                    </div>
                    <div class="order-total-row order-total-discount" id="totalGiftRow">
                        礼品卡：
                        <div class="order-total-price sub">
                            0.00
                        </div>
                    </div>
                    <div class="order-total-row">
                        运费
                        <div class="order-total-price" id="totalExpressPrice">
                            0.00
                        </div>
                    </div>
                    <div class="order-total-line">
                    </div>
                    <div class="order-total-row">
                        应付：
                        <div class="order-total-price total" id="totalPayPrice">
                            {{totalPrice}}
                        </div>
                    </div>
                    <div class="order-total-row order-total-valid-row clearfix">
                        <div class="order-total-valid" id="validCode">
                        </div>
                        <div @click="submitPay" class="mz-btn success" id="submitForm" data-mdesc="下单并支付" data-mtype="store_se_pay"
                             data-bh="click_store_se_pay">
                            下单并支付
                        </div>

                    </div>
                    <div class="order-total-row order-total-row-tips" id="totalTips">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- end content -->
    <!--添加新地址-->
    <div id="AddNewAddress" @click="addNewAddress" class="mz-mask hide">
        <div class="mz-dialog dialog address-adder" style="margin-left: -380px; margin-top: -182px;">
            <div class="mz-dialog-header">
                <div class="mz-dialog-title">
                    添加新地址
                </div>
                <div @click="closeAddNewAddress" class="mz-dialog-close">
                </div>
            </div>
            <div class="mz-dialog-main">
                <div class="mz-dialog-warp">
                    <div class="mz-dialog-content">
                        <div class="address-adder-content">
                            <div class="address-adder-row clearfix">
                                <div class="address-adder-title">
                                    收货人姓名
                                    <span class="address-adder-must">
												*
											</span>
                                </div>
                                <div class="mz-input-warp tips" data-tips="请输入收件人姓名！">
                                    <input type="text" class="mz-input address-adder-name" placeholder="姓名长度不超过15个文字"
                                           value="" maxlength="15" />
                                </div>
                                <div class="address-adder-title">
                                    收货人手机号
                                    <span class="address-adder-must">
												*
											</span>
                                </div>
                                <div class="mz-input-warp tips" data-tips="请输入手机号码！">
                                    <input type="text" class="mz-input address-adder-phone" placeholder="请输入11位手机号"
                                           value="" maxlength="11" />
                                </div>
                            </div>
                            <div class="address-adder-row clearfix">
                                <div class="address-adder-title">
                                    收货人地址
                                    <span class="address-adder-must">
												*
											</span>
                                </div>
                                <div class="mz-input-warp address-adder-select mz-address">
                                    <div class="mz-selectmenu">
                                        <input type="text" readonly="readonly" tabindex="-1" class="mz-downmenu-input"
                                               placeholder="省份/直辖市" />
                                        <input type="hidden" tabindex="-1" value="" name="" />
                                    </div>
                                    <div class="mz-selectmenu">
                                        <input type="text" readonly="readonly" tabindex="-1" class="mz-downmenu-input"
                                               placeholder="城市" />
                                        <input type="hidden" tabindex="-1" value="" name="" />
                                    </div>
                                    <div class="mz-selectmenu">
                                        <input type="text" readonly="readonly" tabindex="-1" class="mz-downmenu-input"
                                               placeholder="区/县" />
                                        <input type="hidden" tabindex="-1" value="" name="" />
                                    </div>
                                    <div class="mz-selectmenu">
                                        <input type="text" readonly="readonly" tabindex="-1" class="mz-downmenu-input"
                                               placeholder="乡镇/街道" />
                                        <input type="hidden" tabindex="-1" value="" name="" />
                                    </div>
                                    <div class="mz-address-other mz-input-warp" name="" style="display: none;">
                                        <input type="text" class="mz-input mz-address-input" placeholder="请输入其他街道名称"
                                               maxlength="10" />
                                    </div>
                                </div>
                            </div>
                            <div class="address-adder-row clearfix address-adder-other" style="display: none;">
                                <div class="address-adder-title">
                                    其他
                                </div>
                            </div>
                            <div class="address-adder-row clearfix">
                                <div class="address-adder-title">
                                    详细地址
                                    <span class="address-adder-must">
												*
											</span>
                                </div>
                                <div class="mz-input-warp">
                                    <input type="text" class="mz-input address-adder-detail" placeholder="请输入4-50个文字的详细地址，例如路名、门牌号"
                                           value="" maxlength="50" minlength="4" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mz-dialog-bottom">
                <div class="mz-btn success">
                    确认
                </div>
                <div @click="closeAddNewAddress" class="mz-btn cancel">
                    取消
                </div>
            </div>
        </div>
    </div>
    <!--选择城市-->
    <div id="cityList" class="mz-downmenu" style="top: 330.75px; left: 349.094px; width: 118px; display: none;">
        <ul class="mz-downmenu-list">
            <li class="mz-downmenu-item">
                北京
            </li>
            <li class="mz-downmenu-item">
                天津
            </li>
            <li class="mz-downmenu-item">
                吉林省
            </li>
            <li class="mz-downmenu-item">
                辽宁省
            </li>
            <li class="mz-downmenu-item">
                浙江省
            </li>
            <li class="mz-downmenu-item">
                福建省
            </li>
            <li class="mz-downmenu-item">
                上海
            </li>
            <li class="mz-downmenu-item">
                广东省
            </li>
            <li class="mz-downmenu-item">
                海南省
            </li>
            <li class="mz-downmenu-item">
                湖北省
            </li>
            <li class="mz-downmenu-item">
                湖南省
            </li>
            <li class="mz-downmenu-item">
                安徽省
            </li>
            <li class="mz-downmenu-item">
                江苏省
            </li>
            <li class="mz-downmenu-item">
                江西省
            </li>
            <li class="mz-downmenu-item">
                四川省
            </li>
            <li class="mz-downmenu-item">
                重庆
            </li>
            <li class="mz-downmenu-item">
                云南省
            </li>
            <li class="mz-downmenu-item">
                贵州省
            </li>
            <li class="mz-downmenu-item">
                广西壮族自治区
            </li>
            <li class="mz-downmenu-item">
                西藏自治区
            </li>
            <li class="mz-downmenu-item">
                山东省
            </li>
            <li class="mz-downmenu-item">
                河南省
            </li>
            <li class="mz-downmenu-item">
                甘肃省
            </li>
            <li class="mz-downmenu-item">
                河北省
            </li>
            <li class="mz-downmenu-item">
                内蒙古自治区
            </li>
            <li class="mz-downmenu-item">
                宁夏回族自治区
            </li>
            <li class="mz-downmenu-item">
                青海省
            </li>
            <li class="mz-downmenu-item">
                山西省
            </li>
            <li class="mz-downmenu-item">
                陕西省
            </li>
            <li class="mz-downmenu-item">
                新疆维吾尔自治区
            </li>
            <li class="mz-downmenu-item">
                黑龙江省
            </li>
        </ul>
    </div>
    <!--不要打开-->
    <div class="layout-magnet" style="bottom: 100px;">
        <ul class="layout-magnet-list">
            <li class="layout-magnet-item layout-magnet-item-app">
                <a href="javascript:void(0);" class="layout-magnet-link">
                    <div class="layout-magnet-icon">
                        <i class="layout-font layout-font-app">
                        </i>
                    </div>
                    <div class="layout-magnet-text">
                        &nbsp;
                    </div>
                    <div class="layout-magnet-download">
                        <div class="layout-magnet-download-body">
                            <img src="/webResources/orderResources/qrcode-3389e5b72a.png" class="layout-magnet-qrcode"
                                 alt="QRCode" />
                            <p class="layout-magnet-download-text">
                                扫码下载魅族商城APP
                            </p>
                        </div>
                    </div>
                </a>
            </li>
            <li class="layout-magnet-item layout-magnet-item-top">
                <a href="javascript:void(0);" class="layout-magnet-link" data-mtype="click_wmz_public_cbxf_top"
                   data-bh="click_wmz_public_cbxf_top">
                    <div class="layout-magnet-icon">
                        <i class="layout-font layout-font-top">
                        </i>
                    </div>
                    <div class="layout-magnet-text">
                        回到顶部
                    </div>
                </a>
            </li>
        </ul>
        <a class="layout-magnet-minimize layout-magnet-icon layout-magnet-link"
           href="javascript:void(0);">
            <i class="layout-font layout-font-minimize">
            </i>
        </a>
    </div>
</div>
<script type="text/javascript" src="/js/vue.js">
</script>
<script type="text/javascript" src="/js/axios.min.js">
</script>
<script type="text/javascript">
    var vm = new Vue({
        el: "#app",
        data: {
            addreses: [],
            addressChecked: -1,
            orderDetailList: [],
            totalPrice:0,
            curAddDiv:[]
        },
        mounted: function() {
            //根据oid查询订单详情表中的所有数据，并查询对应的图书详情
            var oid = window.localStorage.getItem("oid");
            axios.post("/orders/getAddressByUid")
                .then(function(res) {
                    if (res.data.code == 0) {
                        vm.addreses = res.data.data;
                        for(var i=0;i<vm.addreses.length;i++){
                            vm.curAddDiv[i] = "AddDiv"+vm.addreses[i].aid;
                        }
                        console.log(vm.curAddDiv);
                    } else {
                        alert(res.data.msg);
                    }
                })
            axios.get("/orders/getOrderDetailList", {
                params: {
                    oid: oid
                }
            })
                .then(function(res) {
                    vm.orderDetailList = res.data.data;
                    console.log(vm.orderDetailList);
                    for (var i = 0; i < vm.orderDetailList.length; i++) {
                        vm.totalPrice += vm.orderDetailList[i].num * vm.orderDetailList[i].phone.baseprice;
                    }
                })

        },
        methods: {
            checkThisAddress: function(address) {

                if (this.addressChecked != -1) {
                    if (this.addressChecked == address.aid) {
                        this.addressChecked = -1;
                        document.getElementById('' + address.aid).className = "order-address-checkbox";
                    } else {
                        document.getElementById('' + vm.addressChecked).className = "order-address-checkbox";
                        document.getElementById('' + address.aid).className = "order-address-checkbox checked";
                        this.addressChecked = address.aid
                    }
                } else {
                    document.getElementById('' + address.aid).className = "order-address-checkbox checked";
                    this.addressChecked = address.aid
                }
            },
            deleteCurrAddress: function(aid) {
                var that = this
                console.log(aid)
                axios.get("/orders/deleteAddressByAid", {
                    params: {
                        aid: aid
                    }
                })
                    .then(function(res) {
                        alert(res.data.msg);
                        location.reload();
                    })
            },
            showProvince: function() {
                console.log("进入showProvince");
                document.getElementById("cityList").style.display = "block";
            },
            editCurrAddress: function(address) {
                document.getElementById("AddDiv"+address.aid).className="mz-mask";
            },
            updateCurrAddress:function (aid) {
                
            }
            ,
            closeAddressDiv:function(address){
                document.getElementById("AddDiv"+address.aid).className="mz-mask hide";
            },
            addNewAddress: function() {
                document.getElementById("AddNewAddress").className="mz-mask";
            },
            closeAddNewAddress: function() {
                document.getElementById("AddNewAddress").className="mz-mask hide";
            },
            submitPay:function () {
                event.preventDefault();//阻止默认事件提交
                var xmlhttp;
                xmlhttp=new XMLHttpRequest();//原生的ajax
                //原生的ajax向后端携带参数发请求
                xmlhttp.open("GET","/pay/generateCode?oid="+window.localStorage.getItem("oid"),true);
                //下面代码属于后端返回给前端的二维码图片的接收与解析
                xmlhttp.responseType = "blob";//Binary large Object
                xmlhttp.onload = function(){
                    if (this.status == 200) {
                        var blob = this.response;
                        var img = document.createElement("img");
                        img.onload = function(e) {
                            //URL.revokeObjectURL()方法会释放一个通过URL.createObjectURL()创建的对象URL.
                            //当你要已经用过了这个对象URL,然后要让浏览器知道这个URL已经不再需要指向对应的文件的时候,
                            //就需要调用这个方法.
                            window.URL.revokeObjectURL(img.src);
                        };
                        //根据传入的参数创建一个指向该参数对象的URL. 这个URL的生命仅存在于它被创建的这个文档里，Blob对象
                        img.src = window.URL.createObjectURL(blob);
                        img.className = "erweima";
                        //本来没有这个图，是根据后端返回的二维码图片，接收到之后，添加到此app div中
                        document.getElementById("app").appendChild(img);
                    }
                }
                xmlhttp.send();
            }
        }
    })
</script>
<script type="text/javascript" src="https://cdn.goeasy.io/goeasy-1.0.17.js"></script>
<script>
    var goEasy = new GoEasy({
        host:'hangzhou.goeasy.io', //应用所在的区域地址: 【hangzhou.goeasy.io |singapore.goeasy.io】
        appkey: "BC-6b81de867ffe45c6bcab6c69719314f4", //替换为您应用commons key
    });
    goEasy.subscribe({
        channel: "jojo", //替换为您自己的channel
        onMessage: function (message) {
            if(message.content=="success"){
                alert("支付成功");
                document.getElementById("app").removeChild("erweima");
            }
        }
    });
</script>
</body>

</html>